(()=>{var a={};a.id=698,a.ids=[698],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6300:(a,b,c)=>{Promise.resolve().then(c.bind(c,37734))},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>g,viewport:()=>h});var d=c(75338),e=c(42003),f=c.n(e);c(82704);let g={title:"Portal de Fornecedores - Engeman",description:"Portal oficial de fornecedores da Engeman. Cadastre-se, acompanhe homologa\xe7\xf5es e gerencie seus documentos.",keywords:"engeman, fornecedores, portal, homologa\xe7\xe3o, cadastro, documentos",authors:[{name:"Engeman"}],openGraph:{title:"Portal de Fornecedores - Engeman",description:"Portal oficial de fornecedores da Engeman. Cadastre-se, acompanhe homologa\xe7\xf5es e gerencie seus documentos.",type:"website",locale:"pt_BR"},robots:{index:!0,follow:!0},generator:"v0.dev"},h={width:"device-width",initialScale:1,themeColor:[{media:"(prefers-color-scheme: light)",color:"#ff8e53"},{media:"(prefers-color-scheme: dark)",color:"#00d9ff"}]};function i({children:a}){return(0,d.jsxs)("html",{lang:"pt-BR",children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,d.jsx)("link",{rel:"icon",href:"/ico.png",type:"image/png"}),(0,d.jsx)("meta",{name:"format-detection",content:"telephone=no"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,d.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-title",content:"Portal Engeman"}),(0,d.jsx)("link",{rel:"apple-touch-icon",href:"/icon-192x192.png"})]}),(0,d.jsx)("body",{className:`${f().className} antialiased`,children:(0,d.jsx)("div",{id:"root",children:a})})]})}},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23339:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(38301);let e=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let g=(0,d.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...f,width:b,height:b,stroke:a,strokeWidth:g?24*Number(c)/Number(b):c,className:e("lucide",h),...k},[...j.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(i)?i:[i]])),h=(a,b)=>{let c=(0,d.forwardRef)(({className:c,...f},h)=>(0,d.createElement)(g,{ref:h,iconNode:b,className:e(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,c),...f}));return c.displayName=`${a}`,c}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},37734:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\lucas.lima\\\\Downloads\\\\Portal de Fornecedores Engeman\\\\app\\\\admin\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\lucas.lima\\Downloads\\Portal de Fornecedores Engeman\\app\\admin\\page.tsx","default")},39435:()=>{},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},46376:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64444:(a,b,c)=>{Promise.resolve().then(c.bind(c,75565))},65893:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},67011:(a,b,c)=>{"use strict";c.d(b,{Lt:()=>j,Rx:()=>r,Zr:()=>s,EO:()=>m,$v:()=>q,ck:()=>o,wd:()=>n,r7:()=>p});var d=c(21124);c(38301);var e=c(80847),f=c(43249),g=c(58829);function h(...a){return(0,g.QP)((0,f.$)(a))}let i=(0,c(26691).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function j({...a}){return(0,d.jsx)(e.bL,{"data-slot":"alert-dialog",...a})}function k({...a}){return(0,d.jsx)(e.ZL,{"data-slot":"alert-dialog-portal",...a})}function l({className:a,...b}){return(0,d.jsx)(e.hJ,{"data-slot":"alert-dialog-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function m({className:a,...b}){return(0,d.jsxs)(k,{children:[(0,d.jsx)(l,{}),(0,d.jsx)(e.UC,{"data-slot":"alert-dialog-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...b})]})}function n({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"alert-dialog-header",className:h("flex flex-col gap-2 text-center sm:text-left",a),...b})}function o({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"alert-dialog-footer",className:h("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function p({className:a,...b}){return(0,d.jsx)(e.hE,{"data-slot":"alert-dialog-title",className:h("text-lg font-semibold",a),...b})}function q({className:a,...b}){return(0,d.jsx)(e.VY,{"data-slot":"alert-dialog-description",className:h("text-muted-foreground text-sm",a),...b})}function r({className:a,...b}){return(0,d.jsx)(e.rc,{className:h(i(),a),...b})}function s({className:a,...b}){return(0,d.jsx)(e.ZD,{className:h(i({variant:"outline"}),a),...b})}},67748:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},75535:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},75565:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>H});var d=c(21124),e=c(38301),f=c(23339);let g=(0,f.A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var h=c(91292),i=c(18310),j=c(65893);let k=(0,f.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var l=c(3663);let m=(0,f.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var n=c(14263),o=c(75535),p=c(70175),q=c(60988);let r=(0,f.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),s=(0,f.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var t=c(47268);let u=(0,f.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var v=c(67748),w=c(67011);let x=process.env.NEXT_PUBLIC_API_URL||"http://localhost:5000";function y(a){return null==a?"0":new Intl.NumberFormat("pt-BR").format(a)}function z(a){if("number"==typeof a)return Number.isFinite(a)?a:null;if("string"==typeof a){let b=a.trim();if(!b)return null;let c=b.replace(/[^\d,.\-]/g,"");if(!c)return null;let d=c.lastIndexOf(","),e=c.lastIndexOf("."),f=c;if(d>-1&&e>-1)f=d>e?c.replace(/\./g,"").replace(/,/g,"."):c.replace(/,/g,"");else if(d>-1)f=c.replace(/\./g,"").replace(/,/g,".");else if(e>-1){let a=c.split("."),b=a.pop();f=`${a.join("")}.${b??""}`}let g=Number(f);return Number.isFinite(g)?g:null}return null}function A(a){return null==a?"—":new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}let B=a=>"object"==typeof a&&null!==a&&!Array.isArray(a),C=a=>{let b=a.trim();if(!b)return null;let c=/<\/?[a-z][\s\S]*>/i.test(b)?b.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim():b;if(!c)return null;let d=c.toLowerCase();return d.startsWith("404 not found")||d.includes("requested url was not found")||"not found"===d?null:c},D=(a,b)=>{if(B(a))for(let b of["message","detail","error"]){let c=a[b];if("string"==typeof c&&c.trim().length>0){let a=C(c);if(a)return a}}if("string"==typeof a&&a.trim().length>0){let b=C(a);if(b)return b}return b},E=async a=>{let b=a.headers.get("content-type")?.toLowerCase()??"";if(b.includes("application/json")||b.includes("application/problem+json"))try{return await a.json()}catch(a){return console.error("Falha ao analisar JSON da resposta:",a),null}let c=await a.text();if(!c)return null;try{return JSON.parse(c)}catch{return{message:c}}};function F(a){return a.filter(a=>"object"==typeof a&&null!==a).map(a=>{let b=z(a.nota_iqf??a.notaIQF??a.media_iqf??a.mediaIQF??a.iqf??a.nota_iqf_media??a.notaIQFMedia)??null,c=z(a.nota_homologacao??a.notaHomologacao??a.media_homologacao??a.mediaHomologacao??a.homologacao??a.nota_homolog)??null;return{...a,nota_iqf:b,nota_homologacao:c}})}function G(a){let b=(a??"").toString().trim().toUpperCase();return"APROVADO"===b?"APROVADO":"REPROVADO"===b?"REPROVADO":"PENDENTE"}function H(){let[a,b]=(0,e.useState)(!1),[c,f]=(0,e.useState)(null),[C,H]=(0,e.useState)([]),[J,K]=(0,e.useState)([]),[L,M]=(0,e.useState)(!1),[N,O]=(0,e.useState)(!1),[P,Q]=(0,e.useState)(!1),[R,S]=(0,e.useState)(!1),[T,U]=(0,e.useState)(null),[V,W]=(0,e.useState)(""),[X,Y]=(0,e.useState)("TODOS"),[Z,$]=(0,e.useState)(!1),[_,aa]=(0,e.useState)(!1),[ab,ac]=(0,e.useState)(!1),ad=(0,e.useRef)(null),ae=(0,e.useRef)(null);(0,e.useRef)(0);let[af,ag]=(0,e.useState)(null),[ah,ai]=(0,e.useState)(null),[aj,ak]=(0,e.useState)({}),[al,am]=(0,e.useState)(null),[an,ao]=(0,e.useState)(null),[ap,aq]=(0,e.useState)(null),[ar,as]=(0,e.useState)(null),[at,au]=(0,e.useState)(null),[av,aw]=(0,e.useState)({}),[ax,ay]=(0,e.useState)(null),[az,aA]=(0,e.useState)(null),[aB,aC]=(0,e.useState)(""),[aD,aE]=(0,e.useState)(""),[aF,aG]=(0,e.useState)(null),[aH,aI]=(0,e.useState)(!1),[aJ,aK]=(0,e.useState)(!1),[aL,aM]=(0,e.useState)(null),aN=function(a,b=400){let[c,d]=(0,e.useState)(a);return c}(V),aO=null!==ap&&null!==ar&&ar===ap.id,aP=(0,e.useMemo)(()=>C.reduce((a,b)=>{let c=G(b.status);return a[c]+=1,a},{APROVADO:0,REPROVADO:0,PENDENTE:0}),[C]),aQ=(0,e.useMemo)(()=>"TODOS"===X?C:C.filter(a=>{let b=G(a.status);return"PENDENTE"===X?"PENDENTE"===b:b===X}),[C,X]),aR=(0,e.useMemo)(()=>[{valor:"TODOS",rotulo:"Todos",descricao:"Mostrar todos os fornecedores",contagem:C.length},{valor:"APROVADO",rotulo:"Aprovados",descricao:"Somente fornecedores homologados",contagem:aP.APROVADO},{valor:"PENDENTE",rotulo:"A cadastrar",descricao:"Cadastros aguardando decis\xe3o",contagem:aP.PENDENTE},{valor:"REPROVADO",rotulo:"Reprovados",descricao:"Fornecedores nao aprovados",contagem:aP.REPROVADO}],[C.length,aP.APROVADO,aP.PENDENTE,aP.REPROVADO]),aS=(0,e.useMemo)(()=>aR.find(a=>a.valor===X),[aR,X]),aT=()=>{let c=a?"light":"dark";b(!a),"dark"===c?(document.body.classList.add("dark-mode"),document.body.classList.remove("light-mode")):(document.body.classList.add("light-mode"),document.body.classList.remove("dark-mode")),localStorage.setItem("theme",c)},aU=()=>a?"text-orange-400":"text-orange-500",aV=()=>{ay(null),aA(null)},aW=async(a,b={})=>{if(!ax)throw Error("Token n\xe3o dispon\xedvel");let c=await fetch(`${x}${a}`,{...b,headers:{"Content-Type":"application/json",...b.headers||{},Authorization:`Bearer ${ax}`}});if(401===c.status||403===c.status)throw aV(),Error("Sess\xe3o expirada");return c},aX=async a=>{a.preventDefault(),aG(null),aI(!0);try{let a=await fetch(`${x}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:aB,senha:aD})}),b=await E(a);if(!a.ok)return void aG(D(b,"Credenciais invalidas. Verifique o e-mail autorizado e a senha informada."));if(!B(b)||"string"!=typeof b.access_token)return void aG("Resposta invalida do servidor. Tente novamente.");let c=b.access_token;ay(c),aA(aB.trim()),aE("")}catch(a){console.error(a),aG("Erro ao autenticar. Tente novamente em instantes.")}finally{aI(!1)}},aY=async(a,b)=>{aM({fornecedor:a,status:b}),aK(!0)},aZ=async()=>{if(!aL)return;let{fornecedor:a,status:b}=aL;aK(!1);try{ag(a.id),U(null);let c=await aW(`/api/admin/fornecedores/${a.id}/decis\xe3o`,{method:"POST",body:JSON.stringify({status:b,notaReferencia:null,observacao:"APROVADO"===b?"Fornecedor aprovado no processo de homologa\xe7\xe3o.":"Fornecedor reprovado no processo de homologa\xe7\xe3o.",enviarEmail:!0})}),d=await E(c);if(!c.ok)return void U(D(d,"N\xe3o foi possivel registrar a decis\xe3o."));let e=B(d)?d:null,f=e?.fornecedor;if(f){let a=F([f])[0];a&&H(b=>b.map(b=>b.id===a.id?a:b))}else{let a=aN?`?search=${encodeURIComponent(aN)}`:"",b=await aW(`/api/admin/fornecedores${a}`),c=await E(b);Array.isArray(c)?H(F(c)):B(c)&&Array.isArray(c.fornecedores)?H(F(c.fornecedores)):(H([]),U(D(c,"N\xe3o foi possivel atualizar a lista de fornecedores apos a decis\xe3o.")))}let g=e?.emailEnviado,h="APROVADO"===b?`Fornecedor ${a.nome} aprovado com sucesso.`:`Fornecedor ${a.nome} marcado como reprovado.`;!1===("boolean"==typeof g?g:"number"==typeof g?0!==g:void 0)?h+=" Email n\xe3o foi enviado automaticamente. Verifique as configura\xe7\xf5es.":h+=" Email enviado ao fornecedor com o resultado.",au(h.trim()),aM(null)}catch(a){console.error(a),U("Falha ao registrar a decis\xe3o. Tente novamente.")}finally{ag(null)}},a$=()=>{null===ar&&aq(null)},a_=async()=>{if(ap){as(ap.id);try{U(null);let a=await aW(`/api/admin/fornecedores/${ap.id}`,{method:"DELETE"}),b=await E(a);if(!a.ok)return void U(D(b,"Nao foi possivel excluir o fornecedor."));H(a=>a.filter(a=>a.id!==ap.id));let c=D(b,`Fornecedor ${ap.nome} excluido com sucesso.`);au(c),aq(null)}catch(a){console.error(a),U("Falha ao excluir o fornecedor. Tente novamente.")}finally{as(null)}}},a0=async a=>{try{ai(a.id),U(null);let b=await aW(`/api/admin/documentos/${a.id}/download`,{method:"GET"});if(!b.ok)return void U("N\xe3o foi possivel baixar o documento. Tente novamente.");let c=await b.blob(),d=window.URL.createObjectURL(c);window.open(d,"_blank","noopener");let e=document.createElement("a");e.href=d,e.download=a.nome||`documento-${a.id}`,document.body.appendChild(e),e.click(),e.remove(),window.setTimeout(()=>window.URL.revokeObjectURL(d),2e3),au(`Download iniciado para ${a.nome}`)}catch(a){console.error(a),U("N\xe3o foi poss\xedvel baixar o documento. Tente novamente.")}finally{ai(null)}},a1=async a=>{let b=z(aj[a.id]?.notaHomologacao??"");if(null===b)return void U("Informe uma nota de homologa\xe7\xe3o v\xe1lida.");try{am(a.id),U(null);let c="Erro ao salvar a nota de homologa\xe7\xe3o.",d=JSON.stringify({notaHomologacao:b}),e=`/api/admin/fornecedores/${a.id}`,f=[{path:`${e}/notas`,method:"PATCH"},{path:`${e}/notas`,method:"POST"},{path:`${e}/nota`,method:"PATCH"},{path:`${e}/nota`,method:"POST"}],g=null,h=null,i=null;for(let a of f){let b=await aW(a.path,{method:a.method,headers:{"Content-Type":"application/json"},body:d}),e=await E(b);if(b.ok||(i=D(e,c),404!==b.status&&405!==b.status)){g=b,h=e;break}}if(!g||!g.ok)throw Error(i??c);let j=B(h)?h:null;if(j?.fornecedor){let b=F([j.fornecedor]);if(b.length>0){let c=b[0];H(b=>b.map(b=>b.id===a.id?{...b,...c}:b))}}else H(c=>c.map(c=>c.id===a.id?{...c,nota_homologacao:b}:c));au("Nota de homologa\xe7\xe3o atualizada com sucesso."),ak(b=>{let{[a.id]:c,...d}=b;return d}),ao(null)}catch(a){console.error(a),U(a instanceof Error?a.message:"Erro ao salvar a nota de homologa\xe7\xe3o.")}finally{am(null)}},a2=(0,e.useMemo)(()=>(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-4 transition-all duration-500",children:[(0,d.jsx)(I,{title:"Fornecedores cadastrados",value:y(c?.total_cadastrados),icon:(0,d.jsx)(j.A,{className:"w-5 h-5"}),accent:"from-orange-500 to-red-500",loading:L,isDarkMode:a}),(0,d.jsx)(I,{title:"Aprovados",value:y(c?.total_aprovados),icon:(0,d.jsx)(g,{className:"w-5 h-5"}),accent:"from-emerald-500 to-green-500",loading:L,isDarkMode:a}),(0,d.jsx)(I,{title:"A cadastrar",value:y(c?.total_em_analise),icon:(0,d.jsx)(k,{className:"w-5 h-5"}),accent:"from-amber-500 to-orange-500",loading:L,isDarkMode:a}),(0,d.jsx)(I,{title:"Reprovados",value:y(c?.total_reprovados),icon:(0,d.jsx)(h.A,{className:"w-5 h-5"}),accent:"from-pink-500 to-rose-500",loading:L,isDarkMode:a}),(0,d.jsx)(I,{title:"Documentos enviados",value:y(c?.total_documentos),icon:(0,d.jsx)(l.A,{className:"w-5 h-5"}),accent:"from-purple-500 to-indigo-500",loading:L,isDarkMode:a})]}),[c,L,a]);return ax?(0,d.jsxs)("div",{className:`min-h-screen transition-all duration-300 ${a?"bg-slate-900 text-white":"bg-white text-slate-900"}`,children:[(0,d.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-0",children:[(0,d.jsx)("div",{className:`absolute w-96 h-96 -top-48 -right-48 rounded-full ${a?"bg-gradient-to-br from-orange-400 to-red-500 opacity-5":"bg-gradient-to-br from-orange-400 to-red-500 opacity-10"} animate-pulse`}),(0,d.jsx)("div",{className:`absolute w-72 h-72 -bottom-36 -left-36 rounded-full ${a?"bg-gradient-to-br from-orange-400 to-red-500 opacity-5":"bg-gradient-to-br from-orange-400 to-red-500 opacity-10"} animate-pulse delay-1000`})]}),(0,d.jsx)("header",{className:`fixed top-0 left-0 right-0 backdrop-blur-xl border-b z-50 transition-all duration-300 ${a?"bg-slate-900/95 border-slate-700":"bg-white/95 border-slate-200"}`,children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-8 py-4 flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{src:a?"/logo-marca.png":"/colorida.png",alt:"Logo Engeman",className:"hidden sm:block h-8 transition-transform duration-300 hover:scale-100"}),(0,d.jsx)("img",{src:a?"logo.png":"/logo-branca.png",alt:"Logo Mobile",className:"flex sm:hidden h-8 mb-2 transition-transform duration-400 hover:scale-100 items-center justify-center mx-auto"}),(0,d.jsx)("p",{className:`text-xs ${a?"text-slate-300 text-center":"text-slate-400 text-center"}`,children:"Portal de Fornecedores"})]}),(0,d.jsx)("div",{})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)("div",{className:`flex items-center gap-3 rounded-full border px-4 py-2 text-sm ${a?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-100 border-slate-300 text-slate-600"}`,children:[(0,d.jsx)(j.A,{className:`w-4 h-4 ${aU()}`}),az]}),(0,d.jsxs)("a",{href:"https://mapaindicador-engeman.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-all duration-300 hover:-translate-y-0.5 ${a?"border-slate-700 text-slate-300 hover:text-white hover:border-orange-400/60":"border-slate-300 text-slate-600 hover:text-slate-900 hover:border-orange-400/60"}`,children:["Mapa indicador",(0,d.jsx)(o.A,{className:"w-4 h-4"})]}),(0,d.jsxs)("button",{onClick:aV,className:`flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-all duration-300 hover:-translate-y-0.5 ${a?"border-slate-700 text-slate-300 hover:text-white hover:border-slate-600":"border-slate-300 text-slate-600 hover:text-slate-900 hover:border-slate-400"}`,children:[(0,d.jsx)(r,{className:"w-4 h-4"})," Sair"]})]})]})}),(0,d.jsx)("main",{className:"relative z-10 pt-24 pb-16 min-h-screen",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-8",children:[(0,d.jsxs)("div",{className:"mb-12",children:[(0,d.jsxs)("h2",{className:"text-3xl md:text-4xl font-bold mb-4 p-1",children:["Bem-vindo ao"," ",(0,d.jsx)("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-orange-400 to-red-500",children:"Painel de Controle"})]}),(0,d.jsx)("p",{className:`text-lg ${a?"text-slate-300":"text-slate-600"}`,children:"Acompanhe em tempo real o desempenho dos fornecedores, receba alertas sobre novos cadastros e monitore envios de documentos."})]}),a2,at&&(0,d.jsxs)("div",{className:`mt-8 rounded-xl border px-4 py-3 flex items-center gap-3 ${a?"border-emerald-500/30 bg-emerald-500/10 text-emerald-200":"border-emerald-200 bg-emerald-50 text-emerald-700"}`,children:[(0,d.jsx)(g,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:at})]}),T&&(0,d.jsxs)("div",{className:`mt-8 rounded-xl border px-4 py-3 flex items-center gap-3 ${a?"border-red-500/30 bg-red-500/10 text-red-300":"border-red-300 bg-red-50 text-red-700"}`,children:[(0,d.jsx)(i.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:T})]}),(0,d.jsxs)("div",{className:"mt-12 space-y-6",children:[(0,d.jsxs)("section",{className:"flex flex-col space-y-6",children:[(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Fornecedores"}),(0,d.jsx)("p",{className:`text-sm ${a?"text-slate-300":"text-slate-600"}`,children:"Pesquise por nome fantasia ou CNPJ para visualizar status e documentos atualizados."})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-end gap-3 w-full lg:w-auto",children:[(0,d.jsxs)("div",{className:"relative flex-1 sm:min-w-[14rem] lg:w-72",children:[(0,d.jsx)(m,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${a?"text-slate-400":"text-slate-500"}`}),(0,d.jsx)("input",{value:V,onChange:a=>W(a.target.value),placeholder:"Buscar por nome ou CNPJ",className:`w-full border rounded-xl py-2.5 pl-10 pr-12 text-sm focus:outline-none focus:ring-2 transition-all duration-300 ${a?"bg-slate-800 border-slate-700 focus:ring-orange-400/40":"bg-slate-50 border-slate-300 focus:ring-orange-400/40"}`}),V&&(0,d.jsx)("button",{type:"button",onClick:()=>W(""),className:`absolute right-3 top-1/2 -translate-y-1/2 ${a?"text-slate-400 hover:text-white":"text-slate-500 hover:text-slate-900"}`,"aria-label":"Limpar busca",children:"X"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 sm:justify-end w-full sm:w-auto",children:[(0,d.jsxs)("div",{ref:ad,className:"relative w-full sm:w-auto",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>$(a=>!a),className:`flex items-center justify-between gap-2 w-full sm:w-auto border rounded-xl px-4 py-2 text-sm transition-all duration-300 ${a?"bg-slate-800 border-slate-700 text-slate-300 hover:border-slate-600":"bg-slate-50 border-slate-300 text-slate-600 hover:border-slate-400"} ${Z?"ring-2 ring-orange-400/40":""}`,"aria-expanded":Z,"aria-haspopup":"true",children:[(0,d.jsx)(s,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:aS?.rotulo??"Filtro"}),"TODOS"!==X&&(0,d.jsx)("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${a?"bg-slate-700 text-slate-200":"bg-slate-200 text-slate-600"}`,children:aQ.length})]}),Z&&(0,d.jsx)("div",{className:`absolute right-0 mt-2 w-64 rounded-2xl border shadow-xl z-30 ${a?"bg-slate-900 border-slate-700":"bg-white border-slate-200"}`,children:(0,d.jsx)("div",{className:"p-2 space-y-1",children:aR.map(b=>{let c=b.valor===X;return(0,d.jsxs)("button",{type:"button",onClick:()=>{Y(b.valor),$(!1)},className:`w-full rounded-xl px-4 py-3 text-left flex items-center justify-between gap-3 transition-colors duration-200 ${c?a?"bg-slate-800 border border-orange-400/40 text-orange-200":"bg-orange-50 border border-orange-400/40 text-orange-700":a?"text-slate-200 hover:bg-slate-800/70":"text-slate-600 hover:bg-slate-100"}`,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold",children:b.rotulo}),(0,d.jsx)("p",{className:`text-xs mt-1 ${a?"text-slate-400":"text-slate-500"}`,children:b.descricao})]}),(0,d.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${c?a?"bg-orange-500/30 text-orange-200":"bg-orange-100 text-orange-600":a?"bg-slate-800 text-slate-300":"bg-slate-200 text-slate-600"}`,children:b.contagem})]},b.valor)})})})]}),(0,d.jsxs)("div",{ref:ae,className:"relative",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>aa(a=>{let b=!a;return b&&ac(!1),b}),className:`relative flex h-11 w-11 items-center justify-center rounded-xl border transition-all duration-300 ${a?"border-slate-700 bg-slate-800/70 text-slate-200 hover:border-orange-400/40 hover:text-orange-200":"border-slate-300 bg-white text-slate-600 hover:border-orange-400/60 hover:text-orange-600"} ${_?"ring-2 ring-orange-400/40":""}`,"aria-expanded":_,"aria-haspopup":"true",title:"Notificacoes",children:[(0,d.jsx)(t.A,{className:"w-5 h-5"}),ab&&(0,d.jsx)("span",{className:`absolute -top-1 -right-1 h-3 w-3 rounded-full border-2 ${a?"border-slate-900 bg-orange-400":"border-white bg-orange-500"}`})]}),_&&(0,d.jsxs)("div",{className:`absolute right-0 mt-3 w-80 max-h-[26rem] rounded-2xl border shadow-2xl backdrop-blur p-6 z-40 ${a?"bg-slate-800/80 border-slate-700":"bg-white/80 border-slate-200"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,d.jsx)(t.A,{className:`w-4 h-4 ${aU()}`}),"Notifica\xe7\xf5es"]}),P&&(0,d.jsx)(n.A,{className:`w-4 h-4 animate-spin ${a?"text-slate-400":"text-slate-500"}`})]}),(0,d.jsx)("div",{className:"space-y-4 max-h-[18rem] overflow-y-auto pr-1",children:0===J.length?(0,d.jsx)("p",{className:`text-sm ${a?"text-slate-400":"text-slate-500"}`,children:"Nenhuma notifica\xe7\xe3o recente."}):J.map(b=>(0,d.jsxs)("div",{className:`rounded-2xl border p-4 flex flex-col gap-2 transition-all duration-300 ${a?"border-slate-700/50 bg-slate-900/60 hover:bg-slate-900/80":"border-slate-200/50 bg-slate-50/60 hover:bg-slate-50/80"}`,children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,d.jsx)("span",{className:`text-xs uppercase tracking-widest ${a?"text-slate-400":"text-slate-500"}`,children:"cadastro"===b.tipo?"Cadastro":"Documento"}),(0,d.jsx)("span",{className:`text-xs ${a?"text-slate-500":"text-slate-400"}`,children:function(a){let b=new Date(a);if(Number.isNaN(b.getTime()))return"agora";let c=Math.round((Date.now()-b.getTime())/6e4);if(c<1)return"agora";if(c<60)return`h\xe1 ${c} min`;let d=Math.round(c/60);if(d<24)return`h\xe1 ${d} h`;let e=Math.round(d/24);return e<7?`h\xe1 ${e} d`:new Intl.DateTimeFormat("pt-BR",{dateStyle:"short"}).format(b)}(b.timestamp)})]}),(0,d.jsx)("p",{className:"text-sm font-medium",children:b.titulo}),(0,d.jsx)("p",{className:`text-sm ${a?"text-slate-300":"text-slate-600"}`,children:b.descricao}),b.detalhes&&(0,d.jsx)("div",{className:`text-[11px] ${a?"text-slate-400":"text-slate-500"}`,children:Object.entries(b.detalhes).map(([a,c])=>(0,d.jsxs)("div",{children:["- ",a,": ",c]},`${b.id}-${a}`))})]},b.id))})]})]})]})]})]}),(0,d.jsx)("div",{className:`rounded-3xl border backdrop-blur shadow-2xl overflow-hidden transition-all duration-300 ${a?"bg-slate-800/60 border-slate-700":"bg-white/60 border-slate-200"}`,children:(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("div",{className:"md:min-w-[880px]",children:[(0,d.jsxs)("div",{className:`hidden md:grid grid-cols-[18rem_minmax(9rem,_0.85fr)_minmax(14rem,_1.05fr)_minmax(18rem,_1.1fr)_minmax(13rem,_0.9fr)] gap-5 px-6 py-4 text-xs font-medium uppercase tracking-widest border-b ${a?"text-slate-400 border-slate-700 bg-slate-800/80":"text-slate-500 border-slate-200 bg-slate-50/80"}`,children:[(0,d.jsx)("span",{children:"Fornecedor"}),(0,d.jsx)("span",{children:"Status"}),(0,d.jsx)("span",{children:"Notas"}),(0,d.jsx)("span",{children:"Documentos"}),(0,d.jsx)("span",{children:"A\xe7\xf5es"})]}),(0,d.jsx)("div",{className:`divide-y ${a?"divide-slate-700/40":"divide-slate-200/40"}`,children:N?(0,d.jsxs)("div",{className:`flex items-center justify-center py-16 gap-3 ${a?"text-slate-400":"text-slate-500"}`,children:[(0,d.jsx)(n.A,{className:"w-5 h-5 animate-spin"}),"Carregando fornecedores..."]}):0===aQ.length?(0,d.jsxs)("div",{className:`flex flex-col items-center justify-center py-16 gap-2 ${a?"text-slate-400":"text-slate-500"}`,children:[(0,d.jsx)(k,{className:"w-8 h-8 opacity-50"}),(0,d.jsx)("p",{className:"text-sm",children:"Nenhum fornecedor encontrado. Ajuste a busca ou os filtros."})]}):aQ.map(b=>{let c=function(a,b){switch(G(a)){case"APROVADO":return{label:"Aprovado",color:b?"text-emerald-400":"text-emerald-600",bg:b?"bg-emerald-500/10":"bg-emerald-100",border:b?"border-emerald-500/30":"border-emerald-300",icon:(0,d.jsx)(g,{className:"w-4 h-4"})};case"REPROVADO":return{label:"Reprovado",color:b?"text-red-400":"text-red-600",bg:b?"bg-red-500/10":"bg-red-100",border:b?"border-red-500/30":"border-red-300",icon:(0,d.jsx)(h.A,{className:"w-4 h-4"})};default:return{label:"A cadastrar",color:b?"text-amber-400":"text-amber-600",bg:b?"bg-amber-500/10":"bg-amber-100",border:b?"border-amber-500/30":"border-amber-300",icon:(0,d.jsx)(i.A,{className:"w-4 h-4"})}}}(b.status,a),e=av[b.id]??!1,f=b.total_documentos>5,m=e?b.documentos:b.documentos.slice(0,5),o=Math.max(b.total_documentos-5,0),p=an===b.id,q=aj[b.id]?.notaHomologacao??"",r=A(b.nota_homologacao),s=ar===b.id;return(0,d.jsxs)("div",{className:`flex flex-col md:grid md:grid-cols-[18rem_minmax(9rem,_0.85fr)_minmax(14rem,_1.05fr)_minmax(18rem,_1.1fr)_minmax(13rem,_0.9fr)] gap-5 md:gap-6 px-6 py-5 transition-colors ${a?"hover:bg-slate-800/80":"hover:bg-slate-50/80"}`,children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`rounded-xl p-2 ${a?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/20 text-orange-300":"bg-gradient-to-r from-orange-500/20 to-red-500/20 border border-orange-500/20 text-orange-600"}`,children:(0,d.jsx)(j.A,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold leading-tight",children:b.nome}),(0,d.jsxs)("p",{className:`text-xs ${a?"text-slate-400":"text-slate-500"}`,children:["CNPJ ",b.cnpj]}),b.categoria&&(0,d.jsxs)("p",{className:`text-xs mt-1 ${a?"text-slate-400":"text-slate-500"}`,children:["Categoria: ",b.categoria]})]})]}),(0,d.jsx)("button",{type:"button",onClick:()=>{U(null),aq(b)},disabled:s,className:`flex-shrink-0 rounded-full border p-2 transition-colors ${a?"border-slate-700 text-slate-400 hover:border-red-400/60 hover:text-red-300":"border-slate-200 text-slate-500 hover:border-red-300 hover:text-red-600"} ${s?"cursor-not-allowed opacity-60":""}`,title:`Excluir fornecedor ${b.nome}`,"aria-label":`Excluir fornecedor ${b.nome}`,children:s?(0,d.jsx)(n.A,{className:"w-4 h-4 animate-spin"}):(0,d.jsx)(u,{className:"w-4 h-4"})})]}),(0,d.jsxs)("div",{className:`flex items-center gap-2 text-xs ${a?"text-slate-400":"text-slate-500"}`,children:[(0,d.jsx)(i.A,{className:"w-3 h-3"}),b.email]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsxs)("span",{className:`inline-flex items-center justify-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium text-center border leading-tight ${c.bg} ${c.border} ${c.color}`,children:[c.icon,c.label]}),(0,d.jsxs)("span",{className:`text-[11px] ${a?"text-slate-400":"text-slate-500"}`,children:["Desde ",function(a){if(!a)return"—";let b=new Date(a);return Number.isNaN(b.getTime())?"—":new Intl.DateTimeFormat("pt-BR",{dateStyle:"short",timeStyle:"short"}).format(b)}(b.data_cadastro)]})]}),(0,d.jsxs)("div",{className:`flex flex-col gap-3 text-sm md:min-w-[14rem] md:max-w-[20rem] rounded-2xl border p-4 shadow-sm transition-colors ${a?"border-slate-700/60 bg-slate-900/40":"border-slate-200 bg-white/70"}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(v.A,{className:`w-4 h-4 ${aU()}`}),(0,d.jsxs)("span",{className:"font-semibold",children:["IQF ",A(b.nota_iqf)]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(k,{className:`w-4 h-4 ${aU()}`}),(0,d.jsxs)("span",{className:"font-semibold",children:["Homologa\xe7\xe3o ",r]})]}),!p&&(0,d.jsx)("button",{type:"button",onClick:()=>(a=>{let b=null!==a.nota_homologacao&&void 0!==a.nota_homologacao?String(a.nota_homologacao).replace(".",","):"";ak(c=>({...c,[a.id]:{...c[a.id],notaHomologacao:c[a.id]?.notaHomologacao??b}})),ao(a.id)})(b),className:`text-xs font-semibold rounded-full px-3 py-1 border transition-colors ${a?"border-slate-700 text-slate-200 hover:border-orange-400/40 hover:text-orange-200":"border-slate-300 text-slate-600 hover:border-orange-400/60 hover:text-orange-600"}`,children:"Editar"})]}),p&&(0,d.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[(0,d.jsx)("input",{type:"text",inputMode:"decimal",autoComplete:"off",value:q,onChange:a=>{var c,d;return c=b.id,d=a.target.value,void ak(a=>({...a,[c]:{...a[c],notaHomologacao:d}}))},disabled:al===b.id,className:`w-full sm:w-32 rounded-xl border px-3 py-2 text-sm font-semibold transition-all focus:outline-none focus:ring-2 ${a?"border-slate-600/70 bg-slate-900/60 text-slate-100 focus:border-orange-400 focus:ring-orange-400/40":"border-slate-200 bg-white text-slate-800 focus:border-orange-500 focus:ring-orange-500/30"}`,placeholder:"Ex: 95,5"}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsx)("button",{type:"button",onClick:()=>a1(b),disabled:al===b.id,className:`inline-flex items-center justify-center gap-2 rounded-full px-3 py-2 text-xs font-semibold mt-2 transition-colors ${a?"bg-orange-500/20 border border-orange-400/40 text-orange-100 hover:bg-orange-500/30":"bg-orange-500 text-white hover:bg-orange-600"} ${al===b.id?"cursor-wait opacity-70":""}`,children:al===b.id?(0,d.jsx)(n.A,{className:"w-3 h-3 animate-spin"}):"Salvar"}),(0,d.jsx)("button",{type:"button",onClick:()=>{var a;return a=b.id,void(ak(b=>{if(!(a in b))return b;let{[a]:c,...d}=b;return d}),ao(b=>b===a?null:b))},disabled:al===b.id,className:`inline-flex items-center justify-column gap-1 rounded-full px-1 py-2 text-xs mt-2 font-semibold transition-colors ${a?"border border-slate-700 text-slate-200 hover:border-slate-600 hover:text-white":"border border-slate-300 text-slate-600 hover:border-slate-400 hover:text-slate-900"} ${al===b.id?"cursor-not-allowed opacity-70":""}`,children:"Cancelar"})]})]})]})]}),(0,d.jsx)("div",{className:`flex flex-col gap-3 md:min-w-[15rem] md:max-w-[22rem] rounded-2xl border p-4 shadow-sm transition-colors ${a?"border-slate-700/60 bg-slate-900/40":"border-slate-200 bg-white/70"}`,children:(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 max-h-36 overflow-y-auto pr-1",children:[m.map(b=>(0,d.jsxs)("button",{type:"button",onClick:()=>a0(b),disabled:ah===b.id,className:`inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs transition-colors ${a?"border-slate-700 bg-slate-800/60 hover:border-orange-400/40":"border-slate-300 bg-slate-100/60 hover:border-orange-400/60"} ${ah===b.id?"opacity-70 cursor-wait":""}`,title:b.nome,children:[ah===b.id?(0,d.jsx)(n.A,{className:`w-3 h-3 animate-spin ${aU()}`}):(0,d.jsx)(l.A,{className:`w-3 h-3 ${aU()}`}),(0,d.jsx)("span",{className:"truncate",children:function(a,b=36){let c=(a||"").trim();if(c.length<=b)return c;let d=Math.max(3,b-3);return`${c.slice(0,d).trimEnd()}...`}(b.nome)})]},b.id)),f&&(0,d.jsx)("button",{type:"button",onClick:()=>{var a;return a=b.id,void aw(b=>({...b,[a]:!b[a]}))},className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold transition-colors ${a?"bg-slate-800/80 text-slate-200 hover:bg-slate-700/70":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:e?"Mostrar menos":`Ver todos (+${o})`})]})}),(0,d.jsxs)("div",{className:`flex flex-col gap-2 md:min-w-[13rem] rounded-2xl border p-4 shadow-sm transition-colors ${a?"border-slate-700/60 bg-slate-900/40":"border-slate-200 bg-white/70"}`,children:[(0,d.jsx)("button",{type:"button",onClick:()=>aY(b,"APROVADO"),disabled:af===b.id,className:`inline-flex w-full items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold transition-colors ${a?"bg-emerald-500/15 border border-emerald-500/30 text-emerald-200 hover:border-emerald-400":"bg-emerald-50 border border-emerald-200 text-emerald-600 hover:border-emerald-300"} ${af===b.id?"opacity-70 cursor-wait":""}`,children:af===b.id?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"w-3 h-3 animate-spin"})," Processando"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g,{className:"w-3 h-3"})," Aprovar"]})}),(0,d.jsx)("button",{type:"button",onClick:()=>aY(b,"REPROVADO"),disabled:af===b.id,className:`inline-flex w-full items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold transition-colors ${a?"bg-red-500/15 border border-red-500/30 text-red-200 hover:border-red-400":"bg-red-50 border border-red-200 text-red-600 hover:border-red-300"} ${af===b.id?"opacity-70 cursor-wait":""}`,children:af===b.id?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"w-3 h-3 animate-spin"})," Processando"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.A,{className:"w-3 h-3"})," Reprovar"]})})]})]},b.id)})})]})})})]}),(0,d.jsxs)("div",{className:`rounded-3xl border p-6 transition-all duration-300 ${a?"border-cyan-500/30 bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-transparent":"border-orange-500/30 bg-gradient-to-br from-orange-500/10 via-red-500/10 to-transparent"}`,children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Dica R\xe1pida"}),(0,d.jsx)("p",{className:`text-sm mb-4 ${a?"text-slate-300":"text-slate-600"}`,children:"Mantenha o painel aberto enquanto realiza homologa\xe7\xf5es. As metricas s\xe3o atualizadas em tempo real conforme os documentos chegam."}),(0,d.jsx)("button",{onClick:()=>{},disabled:R||N||0===C.length,className:"flex items-center gap-2 text-white px-4 py-2 rounded-xl text-sm font-medium shadow-lg transition-all duration-300 hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:opacity-70 disabled:hover:-translate-y-0 bg-gradient-to-r from-orange-400 to-red-500 shadow-orange-500/20 hover:shadow-orange-500/30",children:R?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"w-4 h-4 animate-spin"})," Gerando PDF..."]}):(0,d.jsxs)(d.Fragment,{children:["Gerar relat\xf3rio (PDF) ",(0,d.jsx)(o.A,{className:"w-4 h-4"})]})})]})]})]})}),ap&&(0,d.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-8",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm",onClick:a$}),(0,d.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"modal-excluir-fornecedor",className:`relative w-full max-w-lg rounded-3xl border p-6 shadow-2xl ${a?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200 text-slate-900"}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:`rounded-2xl p-3 ${a?"bg-red-500/20 text-red-200":"bg-red-50 text-red-600"}`,children:(0,d.jsx)(u,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:`text-xs uppercase tracking-widest ${a?"text-slate-400":"text-slate-500"}`,children:"Excluir fornecedor"}),(0,d.jsx)("h3",{id:"modal-excluir-fornecedor",className:"text-xl font-semibold",children:"Confirme esta exclus\xe3o"})]})]}),(0,d.jsxs)("p",{className:`mt-4 text-sm ${a?"text-slate-300":"text-slate-600"}`,children:["Esta a\xe7\xe3o remove definitivamente o cadastro, notas e documentos associados ao fornecedor"," ",(0,d.jsx)("span",{className:"font-semibold",children:ap.nome}),"."]}),(0,d.jsxs)("div",{className:`mt-4 rounded-2xl border p-4 ${a?"border-slate-700 bg-slate-900/40":"border-slate-200 bg-slate-50"}`,children:[(0,d.jsx)("p",{className:"font-medium",children:ap.nome}),(0,d.jsxs)("p",{className:`text-sm ${a?"text-slate-400":"text-slate-500"}`,children:["CNPJ ",ap.cnpj]}),(0,d.jsx)("p",{className:`text-sm mt-1 ${a?"text-slate-400":"text-slate-500"}`,children:ap.email})]}),(0,d.jsxs)("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[(0,d.jsx)("button",{type:"button",onClick:a$,disabled:aO,className:`rounded-xl border px-4 py-2 text-sm font-semibold transition-colors ${a?"border-slate-700 text-slate-200 hover:border-slate-500 hover:text-white":"border-slate-300 text-slate-600 hover:border-slate-400 hover:text-slate-900"} ${aO?"cursor-not-allowed opacity-60":""}`,children:"Cancelar"}),(0,d.jsx)("button",{type:"button",onClick:a_,disabled:aO,className:`flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition-colors ${a?"bg-red-500/20 border border-red-400/60 text-red-100 hover:bg-red-500/30":"bg-red-500 text-white hover:bg-red-600"} ${aO?"cursor-wait opacity-80":""}`,children:aO?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"w-4 h-4 animate-spin"}),"Excluindo..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u,{className:"w-4 h-4"}),"Excluir fornecedor"]})})]})]})]}),(0,d.jsx)(w.Lt,{open:aJ,onOpenChange:aK,children:(0,d.jsxs)(w.EO,{className:a?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200 text-slate-900",children:[(0,d.jsxs)(w.wd,{children:[(0,d.jsx)(w.r7,{children:aL?.status==="APROVADO"?"Confirmar Aprova\xe7\xe3o":"Confirmar Reprova\xe7\xe3o"}),(0,d.jsx)(w.$v,{className:a?"text-slate-300":"text-slate-600",children:aL?.status==="APROVADO"?`Confirma a aprova\xe7\xe3o do fornecedor ${aL?.fornecedor.nome}? Um e-mail ser\xe1 enviado com o resultado.`:`Confirma a reprova\xe7\xe3o do fornecedor ${aL?.fornecedor.nome}? Um e-mail ser\xe1 enviado com o resultado.`})]}),(0,d.jsxs)(w.ck,{children:[(0,d.jsx)(w.Zr,{onClick:()=>{aK(!1),aM(null)},className:a?"border-slate-700 text-slate-200 hover:border-slate-500":"",children:"Cancelar"}),(0,d.jsx)(w.Rx,{onClick:aZ,className:aL?.status==="APROVADO"?"bg-emerald-500 hover:bg-emerald-600 text-white":"bg-red-500 hover:bg-red-600 text-white",children:aL?.status==="APROVADO"?"Aprovar":"Reprovar"})]})]})}),(0,d.jsx)("button",{onClick:aT,className:"fixed bottom-8 right-8 w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-xl z-50 bg-gradient-to-r from-orange-400 to-red-500 shadow-orange-400/25 hover:shadow-orange-400/40",title:"Alternar tema",children:a?(0,d.jsx)(p.A,{className:"w-6 h-6"}):(0,d.jsx)(q.A,{className:"w-6 h-6"})})]}):(0,d.jsxs)("div",{className:`min-h-screen transition-all duration-300 ${a?"bg-slate-900 text-white":"bg-white text-slate-900"}`,children:[(0,d.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-0",children:[(0,d.jsx)("div",{className:`absolute w-96 h-96 -top-48 -right-48 rounded-full ${a?"bg-gradient-to-br  from-orange-400 to-red-500 opacity-5":"bg-gradient-to-br from-orange-400 to-red-500 opacity-10"} animate-pulse`}),(0,d.jsx)("div",{className:`absolute w-72 h-72 -bottom-36 -left-36 rounded-full ${a?"bg-gradient-to-br  from-orange-400 to-red-500 opacity-5":"bg-gradient-to-br from-orange-400 to-red-500 opacity-10"} animate-pulse delay-1000`})]}),(0,d.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-6",children:(0,d.jsx)("div",{className:`w-full max-w-xl rounded-3xl border backdrop-blur-xl shadow-2xl overflow-hidden transition-all duration-300 ${a?"bg-slate-800/95 border-slate-700":"bg-white/95 border-slate-200"}`,children:(0,d.jsxs)("div",{className:"px-8 py-10 space-y-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm mb-4 border-orange-500/30 bg-orange-500/10 text-orange-700",children:[(0,d.jsx)(k,{className:"w-4 h-4"}),"Portal Administrativo"]}),(0,d.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Acesso restrito"}),(0,d.jsx)("p",{className:`text-sm ${a?"text-slate-300":"text-slate-600"}`,children:"Acesso restrito aos administradores"})]}),(0,d.jsxs)("form",{className:"space-y-5",onSubmit:aX,children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`text-xs uppercase tracking-widest ${a?"text-slate-400":"text-slate-500"}`,children:"E-mail corporativo"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(m,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${a?"text-slate-400":"text-slate-500"}`}),(0,d.jsx)("input",{type:"email",required:!0,value:aB,onChange:a=>aC(a.target.value),placeholder:"nome.sobrenome@engeman.net",className:`w-full rounded-xl border py-3 pl-10 pr-3 text-sm focus:outline-none focus:ring-2 transition-all duration-300 ${a?"border-slate-700 bg-slate-900/80 focus:ring-orange-400/40":"border-slate-300 bg-slate-50 focus:ring-orange-400/40"}`})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:`text-xs uppercase tracking-widest ${a?"text-slate-400":"text-slate-500"}`,children:"Senha"}),(0,d.jsx)("input",{type:"password",required:!0,value:aD,onChange:a=>aE(a.target.value),placeholder:"••••••••",className:`w-full rounded-xl border py-3 px-3 text-sm focus:outline-none focus:ring-2 transition-all duration-300 ${a?"border-slate-700 bg-slate-900/80 focus:ring-orange-400/40":"border-slate-300 bg-slate-50 focus:ring-orange-400/40"}`})]}),aF&&(0,d.jsxs)("div",{className:`rounded-xl border px-3 py-2 text-sm flex items-center gap-2 ${a?"border-red-500/30 bg-red-500/10 text-red-300":"border-red-300 bg-red-50 text-red-700"}`,children:[(0,d.jsx)(i.A,{className:"w-4 h-4"}),aF]}),(0,d.jsx)("button",{type:"submit",disabled:aH,className:`w-full flex items-center justify-center gap-2 text-white py-3 rounded-xl font-semibold transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg bg-gradient-to-r from-orange-400 to-red-500 hover:shadow-orange-400/25 ${aH?"opacity-70 cursor-not-allowed":""}`,children:aH?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"w-4 h-4 animate-spin"})," Entrando..."]}):(0,d.jsxs)(d.Fragment,{children:["ENTRAR NO PAINEL",(0,d.jsx)(o.A,{className:"w-4 h-4"})]})})]})]})})}),(0,d.jsx)("button",{onClick:aT,className:"fixed bottom-8 right-8 w-14 h-14 rounded-full flex items-center justify-center text-white shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-xl z-50 bg-gradient-to-r from-orange-400 to-red-500 shadow-orange-400/25 hover:shadow-orange-400/40",title:"Alternar tema",children:a?(0,d.jsx)(p.A,{className:"w-6 h-6"}):(0,d.jsx)(q.A,{className:"w-6 h-6"})})]})}function I({title:a,value:b,icon:c,accent:e,loading:f,isDarkMode:g}){return(0,d.jsxs)("div",{className:`relative overflow-hidden rounded-3xl border backdrop-blur px-6 py-5 shadow-2xl transition-all duration-500 hover:-translate-y-2 ${g?"bg-slate-800/70 border-slate-700":"bg-white/70 border-slate-200"}`,children:[(0,d.jsx)("div",{className:`absolute inset-x-0 -top-10 h-28 bg-gradient-to-br ${e} opacity-[0.22] blur-3xl pointer-events-none`}),(0,d.jsxs)("div",{className:"relative flex items-start justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:`text-xs uppercase tracking-widest ${g?"text-slate-400":"text-slate-500"}`,children:a}),(0,d.jsx)("p",{className:"mt-3 text-3xl font-semibold",children:f?(0,d.jsx)(n.A,{className:`w-6 h-6 animate-spin ${g?"text-slate-400":"text-slate-500"}`}):b})]}),(0,d.jsx)("div",{className:`h-12 w-12 rounded-2xl flex items-center justify-center ${g?"bg-slate-700/50":"bg-slate-100"}`,children:c})]})]})}},79187:()=>{},82704:()=>{},82824:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},98549:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,37734)),"C:\\Users\\lucas.lima\\Downloads\\Portal de Fornecedores Engeman\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"C:\\Users\\lucas.lima\\Downloads\\Portal de Fornecedores Engeman\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["C:\\Users\\lucas.lima\\Downloads\\Portal de Fornecedores Engeman\\app\\admin\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/admin/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[586,919,9],()=>b(b.s=98549));module.exports=c})();